@import "tailwindcss";

/* ═══════════════════════════════════════════════════════════════════════════
 * ArduGUI Design System v6 -- "Forge"
 *
 * Identity: marigold on warm charcoal. Utilitarian, not decorative.
 * Why: ArduDeck = navy+amber, Betaflight = cool gray+yellow, INAV = light+green.
 *      We own warm charcoal + marigold. Nobody else is here.
 * Audience: technical FPV/ArduPilot pilots configuring in the field.
 * Contrast: all accent/text combos pass WCAG AA. Designed for outdoor use.
 * Style: VS Code clarity meets Betaflight density. Every pixel earns its place.
 * Base font: 16px. If it's smaller than 13px it better be a badge.
 * ═══════════════════════════════════════════════════════════════════════════ */

@theme {
  /* Backgrounds: warm charcoal with brown undertone */
  --color-background: #0c0b0a;
  --color-surface-0: #13120f;
  --color-surface-1: #1a1816;
  --color-surface-2: #201e1a;
  --color-surface-3: #2a2824;

  /* Text: warm whites and warm grays */
  --color-foreground: #f5f0eb;
  --color-muted: #a69a90;
  --color-subtle: #7a736c;

  /* Borders: warm, no blue tint */
  --color-border: #2a2622;
  --color-border-hover: #3a3530;

  /* Accent: MARIGOLD -- high-vis, warm, unique in GCS space */
  --color-accent: #ffaa2a;
  --color-accent-hover: #e89520;
  --color-accent-muted: #4a2a00;
  --color-accent-glow: rgba(255, 170, 42, 0.2);

  /* Secondary: sky blue for links/info */
  --color-secondary: #38bdf8;
  --color-secondary-muted: #0c4a6e;

  /* Status -- these stay universal */
  --color-success: #4ade80;
  --color-success-muted: #052e16;
  --color-warning: #fbbf24;
  --color-warning-muted: #78350f;
  --color-danger: #fb7185;
  --color-danger-muted: #4c0519;
  --color-info: #38bdf8;

  --color-armed: #fb7185;
  --color-disarmed: #4ade80;

  /* Sidebar: slightly darker warm tone */
  --color-sidebar: #0f0e0c;
  --color-sidebar-active: #1a1816;
  --color-sidebar-hover: #16150f;

  --font-sans: 'Inter', 'Segoe UI', system-ui, sans-serif;
  --font-mono: 'JetBrains Mono', 'Fira Code', monospace;

  --spacing-sidebar: 160px;
}

@layer base {
  * {
    scrollbar-width: thin;
    scrollbar-color: var(--color-surface-3) transparent;
  }

  body {
    font-family: var(--font-sans);
    background: var(--color-background);
    color: var(--color-foreground);
    font-size: 16px;
    line-height: 1.5;
    overflow: hidden;
    user-select: none;
    -webkit-font-smoothing: antialiased;
  }

  *, *::before, *::after {
    transition-property: background-color, border-color, color, opacity;
    transition-duration: 100ms;
    transition-timing-function: ease;
  }
  canvas, svg, .no-transition { transition: none; }

  ::selection { background: var(--color-accent); color: #000; }
  :focus-visible { outline: 2px solid var(--color-accent); outline-offset: 2px; }

  select option {
    background: var(--color-surface-1);
    color: var(--color-foreground);
  }
}

@layer components {

  /* -- Cards -- sharp, flat, no decoration */

  .card {
    background: var(--color-surface-1);
    border: 1px solid var(--color-border);
    border-radius: 4px;
    overflow: hidden;
  }

  .card-accent {
    background: var(--color-surface-1);
    border: 1px solid var(--color-border);
    border-left: 3px solid var(--color-accent);
    border-radius: 4px;
    overflow: hidden;
  }

  /* Section header -- flat solid bar, no gradient */
  .section-header {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 0.75rem;
    font-size: 0.6875rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--color-accent);
    background: var(--color-surface-0);
    border-bottom: 1px solid var(--color-border);
  }

  .card-header {
    padding: 0.5rem 0.75rem;
    font-size: 0.6875rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--color-accent);
    margin-bottom: 0;
  }

  /* -- Buttons -- flat solid fills, no gradients, no shadows */

  .btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    padding: 6px 14px;
    font-size: 0.8125rem;
    font-weight: 700;
    border-radius: 3px;
    cursor: pointer;
    transition: all 100ms ease;
  }

  .btn:disabled { cursor: not-allowed; opacity: 0.3; }

  .btn-primary {
    background: var(--color-accent);
    color: #111;
  }
  .btn-primary:hover:not(:disabled) {
    background: var(--color-accent-hover);
  }

  .btn-ghost {
    background: transparent;
    color: var(--color-muted);
    border: 1px solid var(--color-border);
  }
  .btn-ghost:hover:not(:disabled) {
    background: var(--color-surface-2);
    color: var(--color-foreground);
    border-color: var(--color-border-hover);
  }

  .btn-danger {
    background: #e11d48;
    color: white;
  }
  .btn-danger:hover:not(:disabled) {
    background: #be123c;
  }

  /* -- Inputs -- tight, sharp */

  .input-field {
    background: var(--color-background);
    border: 1px solid var(--color-border);
    border-radius: 3px;
    padding: 6px 10px;
    font-size: 0.875rem;
    color: var(--color-foreground);
    outline: none;
  }
  .input-field:focus {
    border-color: var(--color-accent);
    box-shadow: 0 0 0 2px var(--color-accent-glow);
  }

  /* -- Badges -- squared, not pills */

  .badge {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 2px 8px;
    font-size: 0.6875rem;
    font-weight: 700;
    border-radius: 3px;
    text-transform: uppercase;
    letter-spacing: 0.06em;
  }

  /* -- Param dirty */

  .param-dirty {
    border-left: 3px solid var(--color-warning);
    background: rgba(251, 191, 36, 0.04);
  }

  /* -- Table rows */

  .table-row-even { background: var(--color-surface-0); }
  .table-row-odd  { background: var(--color-surface-1); }
}

/* -- Calibration position animations */

@keyframes cal-hover {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-3px); }
}
@keyframes cal-rock-left {
  0%, 100% { transform: rotate(0deg); }
  50% { transform: rotate(-18deg); }
}
@keyframes cal-rock-right {
  0%, 100% { transform: rotate(0deg); }
  50% { transform: rotate(18deg); }
}
@keyframes cal-pitch-down {
  0%, 100% { transform: rotateX(0deg); }
  50% { transform: rotateX(20deg); }
}
@keyframes cal-pitch-up {
  0%, 100% { transform: rotateX(0deg); }
  50% { transform: rotateX(-20deg); }
}
@keyframes cal-flip {
  0%, 100% { transform: scaleY(1); opacity: 1; }
  50% { transform: scaleY(-1); opacity: 0.7; }
}

.cal-anim-level    { animation: cal-hover 2.5s ease-in-out infinite; }
.cal-anim-left     { animation: cal-rock-left 2s ease-in-out infinite; transform-origin: center; }
.cal-anim-right    { animation: cal-rock-right 2s ease-in-out infinite; transform-origin: center; }
.cal-anim-nosedown { animation: cal-pitch-down 2s ease-in-out infinite; }
.cal-anim-noseup   { animation: cal-pitch-up 2s ease-in-out infinite; }
.cal-anim-back     { animation: cal-flip 3s ease-in-out infinite; transform-origin: center; }
