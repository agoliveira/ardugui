@import "tailwindcss";

/* ═══════════════════════════════════════════════════════════════════════════
 * ArduGUI Design System v4 -- "Cockpit Amber"
 *
 * Identity: warm amber on deep navy. Readable in sunlight. Unmistakable.
 * Audience: 40+ FPV/ArduPilot pilots configuring in the field.
 * Base font: 16px. If it's smaller than 14px it better be a badge.
 * ═══════════════════════════════════════════════════════════════════════════ */

@theme {
  --color-background: #070b14;
  --color-surface-0: #0c1220;
  --color-surface-1: #121c2e;
  --color-surface-2: #1a2840;
  --color-surface-3: #243454;

  /* Text: near-white primary, clearly bright muted */
  --color-foreground: #f1f5f9;
  --color-muted: #cbd5e1;
  --color-subtle: #94a3b8;

  /* Borders: visible */
  --color-border: #1e3050;
  --color-border-hover: #2d4570;

  /* Accent: AMBER -- warm, high-vis, our signature */
  --color-accent: #f59e0b;
  --color-accent-hover: #d97706;
  --color-accent-muted: #451a03;
  --color-accent-glow: rgba(245, 158, 11, 0.3);

  /* Secondary: sky blue for links/info */
  --color-secondary: #38bdf8;
  --color-secondary-muted: #0c4a6e;

  /* Status */
  --color-success: #4ade80;
  --color-success-muted: #052e16;
  --color-warning: #fbbf24;
  --color-warning-muted: #78350f;
  --color-danger: #fb7185;
  --color-danger-muted: #4c0519;
  --color-info: #38bdf8;

  --color-armed: #fb7185;
  --color-disarmed: #4ade80;

  --color-sidebar: #090f1a;
  --color-sidebar-active: #162040;
  --color-sidebar-hover: #0f1828;

  --font-sans: 'Inter', 'Segoe UI', system-ui, sans-serif;
  --font-mono: 'JetBrains Mono', 'Fira Code', monospace;

  --spacing-sidebar: 230px;
}

@layer base {
  * {
    scrollbar-width: thin;
    scrollbar-color: var(--color-surface-3) transparent;
  }

  body {
    font-family: var(--font-sans);
    background: var(--color-background);
    color: var(--color-foreground);
    font-size: 16px;
    line-height: 1.55;
    overflow: hidden;
    user-select: none;
    -webkit-font-smoothing: antialiased;
  }

  *, *::before, *::after {
    transition-property: background-color, border-color, color, opacity;
    transition-duration: 120ms;
    transition-timing-function: ease;
  }
  canvas, svg, .no-transition { transition: none; }

  ::selection { background: var(--color-accent); color: #000; }
  :focus-visible { outline: 2px solid var(--color-accent); outline-offset: 2px; }

  select option {
    background: var(--color-surface-1);
    color: var(--color-foreground);
  }
}

@layer components {

  /* ── Cards ──────────────────────────────────────────────────────────────── */

  .card {
    background: var(--color-surface-1);
    border: 1px solid var(--color-border);
    border-radius: 12px;
    overflow: hidden;
  }

  .card-accent {
    background: var(--color-surface-1);
    border: 1px solid var(--color-border);
    border-left: 4px solid var(--color-accent);
    border-radius: 12px;
    overflow: hidden;
  }

  /* Section header -- amber gradient bar. The signature element. */
  .section-header {
    display: flex;
    align-items: center;
    gap: 0.625rem;
    padding: 0.75rem 1.5rem;
    font-size: 0.75rem;
    font-weight: 800;
    text-transform: uppercase;
    letter-spacing: 0.14em;
    color: var(--color-accent);
    background: linear-gradient(90deg,
      rgba(245, 158, 11, 0.12) 0%,
      rgba(245, 158, 11, 0.03) 50%,
      transparent 100%);
    border-bottom: 1px solid var(--color-border);
  }

  .card-header {
    font-size: 0.75rem;
    font-weight: 800;
    text-transform: uppercase;
    letter-spacing: 0.14em;
    color: var(--color-accent);
    margin-bottom: 14px;
  }

  /* ── Buttons ────────────────────────────────────────────────────────────── */

  .btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    padding: 11px 24px;
    font-size: 0.9375rem;
    font-weight: 700;
    border-radius: 10px;
    cursor: pointer;
    transition: all 120ms ease;
  }

  .btn:disabled { cursor: not-allowed; opacity: 0.3; }

  .btn-primary {
    background: linear-gradient(180deg, #fbbf24, var(--color-accent));
    color: #1a1a1a;
    box-shadow: 0 2px 10px rgba(245, 158, 11, 0.25),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
  }
  .btn-primary:hover:not(:disabled) {
    background: linear-gradient(180deg, #fcd34d, #fbbf24);
    box-shadow: 0 4px 20px rgba(245, 158, 11, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.25);
    transform: translateY(-1px);
  }

  .btn-ghost {
    background: var(--color-surface-2);
    color: var(--color-muted);
    border: 1.5px solid var(--color-border);
  }
  .btn-ghost:hover:not(:disabled) {
    background: var(--color-surface-3);
    color: var(--color-foreground);
    border-color: var(--color-border-hover);
  }

  .btn-danger {
    background: linear-gradient(180deg, #fb7185, #e11d48);
    color: white;
    box-shadow: 0 2px 10px rgba(251, 113, 133, 0.2);
  }
  .btn-danger:hover:not(:disabled) {
    box-shadow: 0 4px 16px rgba(251, 113, 133, 0.4);
    transform: translateY(-1px);
  }

  /* ── Inputs ─────────────────────────────────────────────────────────────── */

  .input-field {
    background: var(--color-background);
    border: 1.5px solid var(--color-border);
    border-radius: 10px;
    padding: 11px 16px;
    font-size: 1rem;
    color: var(--color-foreground);
    outline: none;
  }
  .input-field:focus {
    border-color: var(--color-accent);
    box-shadow: 0 0 0 3px var(--color-accent-glow);
  }

  /* ── Badges ─────────────────────────────────────────────────────────────── */

  .badge {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 5px 14px;
    font-size: 0.75rem;
    font-weight: 800;
    border-radius: 9999px;
    text-transform: uppercase;
    letter-spacing: 0.08em;
  }

  /* ── Param dirty ────────────────────────────────────────────────────────── */

  .param-dirty {
    border-left: 4px solid var(--color-warning);
    background: rgba(251, 191, 36, 0.06);
  }

  /* ── Table rows ─────────────────────────────────────────────────────────── */

  .table-row-even { background: var(--color-surface-0); }
  .table-row-odd  { background: var(--color-surface-1); }
}

/* ── Calibration position animations ──────────────────────────────────────── */

@keyframes cal-hover {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-3px); }
}
@keyframes cal-rock-left {
  0%, 100% { transform: rotate(0deg); }
  50% { transform: rotate(-18deg); }
}
@keyframes cal-rock-right {
  0%, 100% { transform: rotate(0deg); }
  50% { transform: rotate(18deg); }
}
@keyframes cal-pitch-down {
  0%, 100% { transform: rotateX(0deg); }
  50% { transform: rotateX(20deg); }
}
@keyframes cal-pitch-up {
  0%, 100% { transform: rotateX(0deg); }
  50% { transform: rotateX(-20deg); }
}
@keyframes cal-flip {
  0%, 100% { transform: scaleY(1); opacity: 1; }
  50% { transform: scaleY(-1); opacity: 0.7; }
}

.cal-anim-level    { animation: cal-hover 2.5s ease-in-out infinite; }
.cal-anim-left     { animation: cal-rock-left 2s ease-in-out infinite; transform-origin: center; }
.cal-anim-right    { animation: cal-rock-right 2s ease-in-out infinite; transform-origin: center; }
.cal-anim-nosedown { animation: cal-pitch-down 2s ease-in-out infinite; }
.cal-anim-noseup   { animation: cal-pitch-up 2s ease-in-out infinite; }
.cal-anim-back     { animation: cal-flip 3s ease-in-out infinite; transform-origin: center; }
